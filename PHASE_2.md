# ðŸŽ¨ FAZA 2: Profesjonalne NarzÄ™dzia Designerskie

## ðŸŽ¯ Cel Fazy 2
PrzeksztaÅ‚cenie edytora w profesjonalne narzÄ™dzie z zaawansowanymi efektami wizualnymi, narzÄ™dziami rysowania i bibliotekÄ… szablonÃ³w.

**Czas trwania**: 3-4 tygodnie
**Priorytet**: HIGH

---

## ðŸ“‹ Zakres Prac

### 1. Zaawansowane Efekty Wizualne
- [ ] Filtry obrazÃ³w (brightness, contrast, saturation, blur, sharpen)
- [ ] Efekty warstw (drop shadow, inner shadow, glow, gradient overlay)
- [ ] Blend modes (multiply, screen, overlay, etc.)
- [ ] Panel efektÃ³w w Toolbar

### 2. Dodatkowe KsztaÅ‚ty (dokoÅ„czenie Sprint 4 z Fazy 1)
- [ ] Rectangle component
- [ ] Circle component
- [ ] Triangle component
- [ ] Star component
- [ ] Line component
- [ ] Shape properties panel
- [ ] Fill, stroke, opacity, rotation controls

### 3. NarzÄ™dzia Rysowania
- [ ] Brush/Pencil tool (podstawowe rysowanie)
- [ ] Eraser tool
- [ ] Line tool
- [ ] Arrow tool
- [ ] GruboÅ›Ä‡ i kolor narzÄ™dzi

### 4. Biblioteka SzablonÃ³w
- [ ] System szablonÃ³w (template engine)
- [ ] Kategorie szablonÃ³w (Social Media, Marketing, Business)
- [ ] Instagram post templates (5-10 szablonÃ³w)
- [ ] Instagram story templates (5-10 szablonÃ³w)
- [ ] Facebook cover templates (3-5 szablonÃ³w)
- [ ] LinkedIn post templates (3-5 szablonÃ³w)
- [ ] Modal wyboru szablonu
- [ ] Preview szablonÃ³w

### 5. Zaawansowany Export
- [ ] Wiele formatÃ³w (PNG, JPG, SVG)
- [ ] Opcje jakoÅ›ci i kompresji
- [ ] RÃ³Å¼ne rozmiary (1x, 2x, 3x)
- [ ] Export zaznaczonego obszaru
- [ ] Batch export (wszystkie elementy jako osobne pliki)

### 6. Color Picker & Gradients
- [ ] Zaawansowany color picker
- [ ] Palety kolorÃ³w
- [ ] Gradient tool (linear, radial)
- [ ] Eye dropper (pobierz kolor z obrazu)
- [ ] Historia kolorÃ³w

---

## ðŸ—“ï¸ Plan SprintÃ³w

### Sprint 1 (TydzieÅ„ 1): KsztaÅ‚ty Geometryczne
**Cel**: DokoÅ„czenie Sprint 4 z Fazy 1

#### DzieÅ„ 1-2: Base Shape System
- [ ] BaseShape component (DRY principle)
- [ ] Shape types definition
- [ ] Shape factory pattern
- [ ] Shape default values

#### DzieÅ„ 3-4: Shape Components
- [ ] RectangleElement component
- [ ] CircleElement component
- [ ] TriangleElement component
- [ ] StarElement component (optional)
- [ ] LineElement component

#### DzieÅ„ 5-6: Shape Properties
- [ ] ShapeControls component
- [ ] Fill color picker
- [ ] Stroke color & width
- [ ] Border radius (rectangle)
- [ ] Opacity slider
- [ ] Rotation control

#### DzieÅ„ 7: Integration & Testing
- [ ] Add shape buttons to Toolbar
- [ ] Shape creation flow
- [ ] Update Canvas rendering
- [ ] Test all shapes

**Deliverables**:
- 5 shape components
- ShapeControls panel
- Toolbar integration

---

### Sprint 2 (TydzieÅ„ 2): Efekty Wizualne
**Cel**: Profesjonalne efekty dla elementÃ³w

#### DzieÅ„ 1-2: Shadow System
- [ ] Shadow types (drop shadow, inner shadow)
- [ ] Shadow controls (offset, blur, spread, color)
- [ ] Multiple shadows support
- [ ] CSS filter generation

#### DzieÅ„ 3-4: Blur & Glow
- [ ] Blur effect
- [ ] Glow effect (outer/inner)
- [ ] Backdrop blur
- [ ] Effect preview

#### DzieÅ„ 5-6: Image Filters
- [ ] Brightness control
- [ ] Contrast control
- [ ] Saturation control
- [ ] Hue rotation
- [ ] Sepia, grayscale filters
- [ ] Filter presets (vintage, dramatic, etc.)

#### DzieÅ„ 7: Effects Panel
- [ ] EffectsPanel component
- [ ] Effects list (add/remove/reorder)
- [ ] Effect on/off toggle
- [ ] Integration z Toolbar

**Deliverables**:
- Shadow system
- 10+ image filters
- EffectsPanel component

---

### Sprint 3 (TydzieÅ„ 3): Szablony
**Cel**: Biblioteka gotowych szablonÃ³w

#### DzieÅ„ 1-2: Template Engine
- [ ] Template type definition
- [ ] Template storage structure
- [ ] Template loader
- [ ] Template preview generator

#### DzieÅ„ 3-4: Social Media Templates
- [ ] Instagram Post (1080x1080) - 10 templates
- [ ] Instagram Story (1080x1920) - 10 templates
- [ ] Facebook Cover (820x312) - 5 templates
- [ ] LinkedIn Post (1200x627) - 5 templates

#### DzieÅ„ 5-6: Template UI
- [ ] TemplateGallery component
- [ ] Template categories
- [ ] Search & filter
- [ ] Preview modal
- [ ] "Use Template" button

#### DzieÅ„ 7: Testing
- [ ] Test all templates
- [ ] Adjust spacing/sizing
- [ ] Polish UI

**Deliverables**:
- 30+ professional templates
- Template gallery UI
- Template system

---

### Sprint 4 (TydzieÅ„ 4): Export & Finishing Touches
**Cel**: Profesjonalny export i polish

#### DzieÅ„ 1-2: Multi-Format Export
- [ ] PNG export (current + transparency option)
- [ ] JPG export (with quality slider)
- [ ] SVG export (basic)
- [ ] Export options modal

#### DzieÅ„ 3-4: Advanced Export
- [ ] Multiple sizes (1x, 2x, 3x)
- [ ] Custom dimensions
- [ ] Export selected area
- [ ] Batch export

#### DzieÅ„ 5-6: Color System
- [ ] Advanced color picker (hue, saturation, lightness)
- [ ] Color palettes (Material, Tailwind, Custom)
- [ ] Gradient editor
- [ ] Color history (last 10 colors)

#### DzieÅ„ 7: Polish & Testing
- [ ] UI/UX improvements
- [ ] Performance optimization
- [ ] Bug fixes
- [ ] Documentation

**Deliverables**:
- Multi-format export
- Advanced color picker
- Gradient tool

---

## ðŸŽ¯ Priorytety

### MUST-HAVE (P0)
1. **KsztaÅ‚ty geometryczne** - podstawowa funkcjonalnoÅ›Ä‡
2. **Drop shadow** - najczÄ™Å›ciej uÅ¼ywany efekt
3. **Szablony Instagram** - gÅ‚Ã³wny use case
4. **JPG export** - alternatywa dla PNG

### SHOULD-HAVE (P1)
5. Image filters (brightness, contrast)
6. Facebook/LinkedIn templates
7. Multi-size export
8. Advanced color picker

### NICE-TO-HAVE (P2)
9. Blend modes
10. NarzÄ™dzia rysowania
11. SVG export
12. Gradient tool

---

## ðŸ“ Dobre Praktyki

### Architecture
- [ ] Extend existing store with shape/effect state
- [ ] Use factory pattern for shapes
- [ ] Separate effect logic from rendering
- [ ] Template JSON schema

### Performance
- [ ] Optimize CSS filters
- [ ] Lazy load templates
- [ ] Debounce effect changes
- [ ] Canvas optimization for many elements

### UX
- [ ] Preview przed apply
- [ ] Smooth transitions
- [ ] Loading states dla templates
- [ ] Tooltips for all new features

---

## ðŸ› ï¸ Nowe Technologie

### Dependencies to Add
```json
{
  "color": "^4.2.3",                    // Color manipulation
  "canvas2svg": "^1.0.1",               // SVG export
  "file-saver": "^2.0.5",               // File download
  "image-js": "^0.35.0"                 // Image processing (optional)
}
```

### Optional (Advanced)
```json
{
  "fabric": "^5.3.0",                   // Canvas manipulation (if needed)
  "konva": "^9.2.0"                     // Alternative canvas library
}
```

---

## ðŸ“ Nowa Struktura FolderÃ³w

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Elements/
â”‚   â”‚   â”œâ”€â”€ shapes/                    # NEW
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseShape.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RectangleElement.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CircleElement.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TriangleElement.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StarElement.tsx
â”‚   â”‚   â”œâ”€â”€ ShapeControls.tsx          # NEW
â”‚   â”‚   â””â”€â”€ EffectsPanel.tsx           # NEW
â”‚   â”œâ”€â”€ Templates/                     # NEW
â”‚   â”‚   â”œâ”€â”€ TemplateGallery.tsx
â”‚   â”‚   â”œâ”€â”€ TemplateCard.tsx
â”‚   â”‚   â””â”€â”€ TemplatePreview.tsx
â”‚   â””â”€â”€ Export/                        # NEW
â”‚       â””â”€â”€ ExportModal.tsx
â”œâ”€â”€ templates/                         # NEW
â”‚   â”œâ”€â”€ instagram-posts/
â”‚   â”œâ”€â”€ instagram-stories/
â”‚   â”œâ”€â”€ facebook-covers/
â”‚   â””â”€â”€ linkedin-posts/
â”œâ”€â”€ utils/                             # NEW
â”‚   â”œâ”€â”€ effects.ts                     // Effect utilities
â”‚   â”œâ”€â”€ filters.ts                     // Image filters
â”‚   â”œâ”€â”€ export.ts                      // Export utilities
â”‚   â””â”€â”€ colors.ts                      // Color utilities
â””â”€â”€ types/
    â”œâ”€â”€ shapes.ts                      # NEW
    â”œâ”€â”€ effects.ts                     # NEW
    â””â”€â”€ templates.ts                   # NEW
```

---

## ðŸŽ¨ Template Structure

### Template JSON Format
```typescript
interface Template {
  id: string;
  name: string;
  category: 'instagram-post' | 'instagram-story' | 'facebook-cover' | 'linkedin-post';
  thumbnail: string;
  size: { width: number; height: number };
  elements: Element[];
  background: {
    type: 'color' | 'gradient' | 'image';
    value: string | Gradient | string;
  };
}
```

### Example Template
```json
{
  "id": "instagram-post-1",
  "name": "Modern Gradient",
  "category": "instagram-post",
  "thumbnail": "/templates/thumbnails/ig-post-1.png",
  "size": { "width": 1080, "height": 1080 },
  "background": {
    "type": "gradient",
    "value": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
  },
  "elements": [
    {
      "type": "text",
      "content": "Your Title Here",
      "fontSize": 72,
      "fontFamily": "Bebas Neue",
      "fontWeight": 700,
      "color": "#ffffff",
      "position": { "x": 540, "y": 400 },
      "textAlign": "center"
    }
  ]
}
```

---

## ðŸ“Š Success Criteria

### Functional
- [ ] Wszystkie 5 ksztaÅ‚tÃ³w dziaÅ‚ajÄ…
- [ ] Minimum 3 efekty wizualne (shadow, blur, filters)
- [ ] Minimum 20 szablonÃ³w
- [ ] Export do PNG, JPG
- [ ] Color picker z paletami

### Technical
- [ ] TypeScript strict mode maintained
- [ ] No performance regression
- [ ] Code coverage > 50%
- [ ] Bundle size < 600KB

### UX
- [ ] Wszystkie nowe funkcje z tooltips
- [ ] Smooth animations
- [ ] Loading states
- [ ] Error handling

---

## ðŸš€ Quick Start

```bash
# Install new dependencies
npm install color file-saver

# Start development
npm run dev

# Test shapes
# 1. Click Rectangle button
# 2. Adjust fill/stroke
# 3. Test rotation
```

---

## ðŸ“ Notes

### Design Decisions
- **Shapes**: SVG-based dla skalowalnoÅ›ci
- **Effects**: CSS filters gdzie moÅ¼liwe (performance)
- **Templates**: JSON format (easy to add more)
- **Export**: Client-side only (no backend needed yet)

### Known Limitations
- SVG export moÅ¼e byÄ‡ basic (bez wszystkich efektÃ³w)
- Blend modes ograniczone do CSS mix-blend-mode
- Templates static (no server-side generation yet)

### Future Considerations
- Animation support (Faza przyszÅ‚a)
- Video export (Faza przyszÅ‚a)
- AI-generated templates (Faza przyszÅ‚a)

---

**Created**: 2024
**Status**: ðŸ“‹ PLANNED
**Estimated Duration**: 3-4 weeks
**Priority**: HIGH
